{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/Jocalu/Desktop/CRUD-react-native/screens/UserDetailScreen.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { ScrollView, TextInput } from 'react-native-gesture-handler';\nimport firebase from \"../database/firebase\";\n\nvar UserDetailScreen = function UserDetailScreen(props) {\n  var initialState = {\n    id: '',\n    name: '',\n    email: '',\n    phone: ''\n  };\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var getUserById = function getUserById(id) {\n    var dbRef, doc, user;\n    return _regeneratorRuntime.async(function getUserById$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            dbRef = firebase.db.collection('users').doc(id);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(dbRef.get());\n\n          case 3:\n            doc = _context.sent;\n            user = doc.data();\n            setUser(_objectSpread(_objectSpread({}, user), {}, {\n              id: doc.id\n            }));\n            setLoading(false);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    getUserById(props.route.params.userId);\n  }), [];\n\n  var handleChangeText = function handleChangeText(name, value) {\n    setUser(_objectSpread(_objectSpread({}, user), {}, _defineProperty({}, name, value)));\n  };\n\n  var deleteUser = function deleteUser() {\n    var dbRef;\n    return _regeneratorRuntime.async(function deleteUser$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            dbRef = firebase.db.collection('users').doc(props.route.params.userId);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(dbRef.delete());\n\n          case 3:\n            props.navigation.navigate('UsersList');\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var updateUser = function updateUser() {\n    var dbRef;\n    return _regeneratorRuntime.async(function updateUser$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            dbRef = firebase.db.collection('users').doc(user.id);\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(dbRef.set({\n              name: user.name,\n              email: user.email,\n              phone: user.phone\n            }));\n\n          case 3:\n            setUser;\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var openConfirmationAlert = function openConfirmationAlert() {\n    Alert.alert('Remove The User', 'Are you sure?', [{\n      text: 'Yes',\n      onPress: function onPress() {\n        return deleteUser();\n      }\n    }, {\n      text: 'No',\n      onPress: function onPress() {\n        return console.log('false');\n      }\n    }]);\n  };\n\n  if (loading) {\n    return React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: \"#9e9e9e\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  return React.createElement(ScrollView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }\n  }, React.createElement(View, {\n    style: styles.inputGroup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Name User\",\n    value: user.name,\n    onChangeText: function onChangeText(value) {\n      return handleChangeText('name', value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    style: styles.inputGroup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Email User\",\n    value: user.email,\n    onChangeText: function onChangeText(value) {\n      return handleChangeText('email', value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    style: styles.inputGroup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Phone User\",\n    value: user.phone,\n    onChangeText: function onChangeText(value) {\n      return handleChangeText('phone', value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, React.createElement(Button, {\n    color: \"#19AC52\",\n    title: \"Update User\",\n    onPress: function onPress() {\n      return alert('ok');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  })), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, React.createElement(Button, {\n    color: \"#E37399\",\n    title: \"Delete User\",\n    onPress: function onPress() {\n      return openConfirmationAlert();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 35\n  },\n  inputGroup: {\n    flex: 1,\n    padding: 0,\n    marginBottom: 15,\n    borderBottomColor: '#cccccc',\n    borderBottomWidth: 1\n  }\n});\nexport default UserDetailScreen;","map":{"version":3,"sources":["/Users/Jocalu/Desktop/CRUD-react-native/screens/UserDetailScreen.js"],"names":["React","useEffect","useState","ScrollView","TextInput","firebase","UserDetailScreen","props","initialState","id","name","email","phone","user","setUser","loading","setLoading","getUserById","dbRef","db","collection","doc","get","data","route","params","userId","handleChangeText","value","deleteUser","delete","navigation","navigate","updateUser","set","openConfirmationAlert","Alert","alert","text","onPress","console","log","styles","container","inputGroup","StyleSheet","create","flex","padding","marginBottom","borderBottomColor","borderBottomWidth"],"mappings":"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","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, {useEffect, useState} from 'react'\nimport { ActivityIndicator, Button } from 'react-native'\nimport {View, StyleSheet, Alert} from 'react-native'\nimport { ScrollView, TextInput } from 'react-native-gesture-handler'\nimport firebase from '../database/firebase'\n\nconst UserDetailScreen = (props) => {\n  const initialState = {\n      id: '',\n      name: '',\n      email: '',\n      phone: ''\n  }\n    const [user, setUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  const getUserById = async(id) => {\n    const dbRef = firebase.db.collection('users').doc(id)\n    const doc = await dbRef.get()\n    const user = doc.data()\n    setUser({\n      ...user,\n      id: doc.id, \n    })\n    setLoading(false)\n  }\n\n  useEffect(()=>{\n    getUserById(props.route.params.userId)\n  }), ([])\n\n  const handleChangeText = (name, value) => {\n    setUser({...user, [name]: value})\n}\n\nconst deleteUser = async() => {\n    const dbRef = firebase.db.collection('users').doc(props.route.params.userId)\n await dbRef.delete();\n props.navigation.navigate('UsersList')\n}\n\nconst updateUser = async() => {\n    const dbRef = firebase.db.collection('users').doc(user.id)\n await dbRef.set({\n   name: user.name,\n   email: user.email,\n   phone: user.phone\n });\nsetUser\n}\n\nconst openConfirmationAlert = () => {\nAlert.alert('Remove The User', 'Are you sure?', [{text:'Yes', onPress: () => deleteUser()},\n{text:'No', onPress: () => console.log('false')}])\n}\n\n    if (loading){\n      return(\n        <View>\n            <ActivityIndicator size=\"large\" color=\"#9e9e9e\" />\n        </View>\n      )\n    }\n  \n\n  return (\n   <ScrollView style={styles.container}>\n    <View style={styles.inputGroup}>\n      <TextInput \n      placeholder=\"Name User\" \n      value={user.name}\n      onChangeText={(value) => handleChangeText('name', value)}\n      ></TextInput>\n    </View>\n\n    <View style={styles.inputGroup}>\n      <TextInput \n      placeholder=\"Email User\" \n      value={user.email}\n      onChangeText={(value) => handleChangeText('email', value)}\n      ></TextInput>\n    </View>\n\n    <View style={styles.inputGroup}>\n      <TextInput \n      placeholder=\"Phone User\" \n      value={user.phone}\n      onChangeText={(value) => handleChangeText('phone', value)}\n      ></TextInput>\n    </View>\n\n    <View>\n      <Button \n        color=\"#19AC52\" \n        title=\"Update User\" \n        onPress={() => alert('ok')} />\n    </View>\n    <View> \n      <Button \n        color=\"#E37399\" \n        title=\"Delete User\" \n        onPress={() => openConfirmationAlert()} />\n    </View>\n     \n  </ScrollView>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex:1,\n    padding:35,\n  },\n  inputGroup: {\n    flex: 1,\n    padding:0,\n    marginBottom: 15,\n    borderBottomColor: '#cccccc',\n    borderBottomWidth: 1\n  }\n});\n\nexport default UserDetailScreen"]},"metadata":{},"sourceType":"module"}